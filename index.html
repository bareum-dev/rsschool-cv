<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

  <header>
    <h1>CV - Vera Karmanovich</h1>
    <p>Junior front-end developer</p>
  </header>
  
  <main>
    <hr>
    <h2>CONTACTS</h2>
    <ul>
      <li>Location: Pinsk, Belarus</li>
      <li>Phone: +375-29-59-64-187</li>
      <li>e-mail: <a href="mailto:bareum.dev@gmail.com">bareum.dev@gmail.com</a></li>
      <li>GitHub: <a href="https://github.com/bareum-dev">bareum-dev</a></li>
    </ul>
    <hr>

    <h2>PROFILE</h2>
    <p>I'm beginner Front-End developer.  </p>
    <p>I love to create beautiful things with my hands and I use JavaScript for this.</p>

    <h2>SKILLS</h2>
    <ul> 
      <li>HTML</li>
      <li>CSS</li>
      <li>JavaScript</li>
      <li>Pug</li>
      <li>SASS/SCSS</li>
      <li>BEM</li>
      <li>Git, GitHub</li>
    </ul>

    <h2>EDUCATION</h2>
    <p>Moscow Institute of Enterpreneurship and Law (MIPP) - B.A. Economics 2007-2012</p>

    <h2>LANGUAGES</h2>
    <ul>
      <li>Russian - Native</li>
      <li>English - A2</li>
    </ul>
  </main>


  <h2>CODE EXAMPLE</h2>
  <pre>
    <code>
let inputs = document.querySelectorAll('.input');
let startGame = document.querySelector("#start-game");
let resetBtn = document.querySelector("#reset-btn");
let infoBlock = document.querySelector('#info-block');

let usedCities = [];
let usersPoints = [0, 0];

// start game btn
startGame.addEventListener('click', function startGameFn(e) {
  infoBlock.innerHTML = "";

  usedCities = [];
  console.log(usedCities);

  startGame.removeEventListener('click', startGameFn);
  startGame.setAttribute('disabled', 'true');

  inputs[0].removeAttribute('disabled');
  inputs[0].focus();

  inputs[0].removeAttribute("placeholder");
  inputs[1].removeAttribute("placeholder");
  
  let startGameMessage = document.createElement('p');
  startGameMessage.textContent = "the game has begun";
  infoBlock.prepend(startGameMessage);

  for (let input of inputs) {
    input.addEventListener('keypress', inputCityName)
  }

  resetBtn.addEventListener("click", () => {
    usedCities = [];
    usersPoints = [0, 0];

    infoBlock.innerHTML = '';
    infoBlock.textContent = "the game has been reset";

    startGame.addEventListener("click", startGameFn);
    startGame.removeAttribute("disabled");

    inputs[0].setAttribute("disabled", 'true');
    inputs[1].setAttribute("disabled", 'true');

    inputs[0].setAttribute("placeholder", "press start game");
    inputs[1].setAttribute("placeholder", "press start game");
  });
});


// get name of city
function inputCityName(e) {
  let valueOfActiveInput = inputs[0].value || inputs[1].value;
  let indexOfInput = !(inputs[0].hasAttribute('disabled')) ? 0 : 1;

  if (e.key == 'Enter') {
    // is array 'usedCities' empty?
    if (usedCities.length == 0) {
      usedCities.push(valueOfActiveInput.toLowerCase());
      console.log(usedCities);

      // message
      let par = document.createElement("p");
      par.textContent = `${valueOfActiveInput}`;
      infoBlock.prepend(par);
      if (indexOfInput == 0) {
        par.classList.add("text-player-one");
      } else {
        par.classList.add("text-player-two");
      }

      // add point
      if (indexOfInput == 0) {
        usersPoints[0] += 1;
      } else {
        usersPoints[1] += 1;
      }
      console.log(usersPoints);

      // change input
      for (let input of inputs) {
        if (input.hasAttribute("disabled")) {
          input.removeAttribute("disabled");
          input.focus();
        } else {
          input.setAttribute("disabled", "true");
          input.value = "";
        }
      }
    }

    // if array 'usedCities' isn't empty
    if (
      usedCities.length > 0 
      &&
      usedCities[usedCities.length - 1]
        .endsWith(valueOfActiveInput.slice(0, 1).toLowerCase())
      &&
      !usedCities.includes(valueOfActiveInput)
      &&
      valueOfActiveInput != ''
    ) {
      // add city to 'usedCities' array
      usedCities.push(valueOfActiveInput);
      console.log(usedCities);

      // message
      let par = document.createElement("p");
      par.textContent = `${valueOfActiveInput}`;
      infoBlock.prepend(par);
      if (indexOfInput == 0) {
        par.classList.add("text-player-one");
      } else {
        par.classList.add("text-player-two");
      }

      // add point
      if (indexOfInput == 0) {
        usersPoints[0] += 1;
      } else {
        usersPoints[1] += 1;
      }
      console.log(usersPoints);

      // change input
      for (let input of inputs) {
        if (input.hasAttribute("disabled")) {
          input.removeAttribute("disabled");
          input.focus();
        } else {
          input.setAttribute("disabled", "true");
          input.value = "";
        }
      }
    }
    else if (usedCities > 0 && usedCities.includes(valueOfActiveInput)) {
      let doubleCityName = document.createElement("p");
      doubleCityName.textContent = `${valueOfActiveInput} has already been used`;
      infoBlock.prepend(doubleCityName);
    }
    else if (
      !(usedCities[usedCities.length - 1]
        .endsWith(valueOfActiveInput.slice(0, 1).toLowerCase()))
    ) {
      let lastLetter = usedCities[usedCities.length - 1].slice(-1);
      console.log(lastLetter);
      let wrongCityName = document.createElement("p");
      wrongCityName.textContent = `name of a city must begin with the letter "${lastLetter}"`;
      infoBlock.prepend(wrongCityName);
    }

    // is input.value empty?
    if (valueOfActiveInput == "") {
      let emptyStringMessage = document.createElement("p");
      emptyStringMessage.textContent = "enter a name of a city";
      infoBlock.prepend(emptyStringMessage);
    }
  }
}
    </code>
  </pre>
  
</body>
</html>